<div class="main-content-container container-fluid px-4">
  <!-- Page Header -->
  <div class="page-header row no-gutters py-4">
    <div class="col-3  text-center text-sm-left mb-0">
      <span class="text-uppercase page-subtitle">Bảng điều khiển</span>
      <h3 class="page-title">Tổng quan</h3>
    </div>
    <div class="col-3 mr-2 ">
      <div class="form-group ">
        <label for="">Tháng :</label>
        <select class="form-control" name="" id="" ng-model="month">
          <option ng-repeat="item in months" id="month" ng-value="item">{{item}}</option>
        </select>
      </div>
    </div>
    <div class="col-3">
      <div class="form-group">
        <label for="">Năm :</label>
        <select class="form-control" name="" id="" ng-model="year">
          <option ng-repeat="item in years" id="year" ng-value="item">{{item}}</option>
        </select>
      </div> <button class="btn btn-primary" ng-click="getThongke(year,month)" type="submit">xem</button>
    </div>
  </div>
  <!-- End Page Header -->
  <!-- Small Stats Blocks -->
  <div class="row">
    <div class="col-lg col-md-6 col-sm-6 mb-4">
      <div class="stats-small stats-small--1 card card-small">
        <div class="card-body p-0 d-flex">
          <div class="d-flex flex-column m-auto">
            <div class="stats-small__data text-center">
              <span class="stats-small__label text-uppercase">Doanh thu</span>

              <h6 class="stats-small__value count my-3">{{getTotal()|number}}</h6>
            </div>
            <div class="stats-small__data">
              <span class="stats-small__percentage stats-small__percentage--increase">4.7%</span>
            </div>
          </div>
          <canvas height="120" class="blog-overview-stats-small-1"></canvas>
        </div>
      </div>
    </div>
    <div class="col-lg col-md-6 col-sm-6 mb-4">
      <div class="stats-small stats-small--1 card card-small">
        <div class="card-body p-0 d-flex">
          <div class="d-flex flex-column m-auto">
            <div class="stats-small__data text-center">
              <span class="stats-small__label text-uppercase">Tổng số lượng</span>
              <h6 class="stats-small__value count my-3">{{items.length|number}}</h6>
            </div>
            <div class="stats-small__data">
              <span class="stats-small__percentage stats-small__percentage--increase">12.4%</span>
            </div>
          </div>
          <canvas height="120" class="blog-overview-stats-small-2"></canvas>
        </div>
      </div>
    </div>
    <div class="col-lg col-md-4 col-sm-6 mb-4">
      <div class="stats-small stats-small--1 card card-small">
        <div class="card-body p-0 d-flex">
          <div class="d-flex flex-column m-auto">
            <div class="stats-small__data text-center">
              <span class="stats-small__label text-uppercase">Tổng hóa đơn</span>
              <h6 class="stats-small__value count my-3">{{getCount()|number}}</h6>
            </div>
            <div class="stats-small__data">
              <span class="stats-small__percentage stats-small__percentage--decrease">3.8%</span>
            </div>
          </div>
          <canvas height="120" class="blog-overview-stats-small-3"></canvas>
        </div>
      </div>
    </div>
    <div class="col-lg col-md-4 col-sm-6 mb-4">
      <div class="stats-small stats-small--1 card card-small">
        <div class="card-body p-0 d-flex">
          <div class="d-flex flex-column m-auto">
            <div class="stats-small__data text-center">
              <span class="stats-small__label text-uppercase">Users</span>
              <h6 class="stats-small__value count my-3">{{countUser}}</h6>
            </div>
            <div class="stats-small__data">
              <span class="stats-small__percentage stats-small__percentage--increase">12.4%</span>
            </div>
          </div>
          <canvas height="120" class="blog-overview-stats-small-4"></canvas>
        </div>
      </div>
    </div>
    <div class="col-lg col-md-4 col-sm-12 mb-4">
      <div class="stats-small stats-small--1 card card-small">
        <div class="card-body p-0 d-flex">
          <div class="d-flex flex-column m-auto">
            <div class="stats-small__data text-center">
              <span class="stats-small__label text-uppercase">Tổng doanh thu mới nhất</span>
              <h6 class="stats-small__value count my-3">{{values[0][0] | number}}
              </h6>
              <!-- Button trigger modal -->
              <a href="" data-toggle="modal" data-target="#exampleModal">Xem chi
                tiết</a>
            </div>
            <div class="stats-small__data">
              <span class="stats-small__percentage stats-small__percentage--decrease">2.4%</span>
            </div>
          </div>
          <canvas height="120" class="blog-overview-stats-small-5"></canvas>
        </div>
      </div>
    </div>
  </div>
  <!-- End Small Stats Blocks -->
  <div class="row">
    <!-- Users Stats -->
    <div class="col-lg-8 col-md-12 col-sm-12 mb-4">
      <div class="card card-small">
        <div class="card-header border-bottom">
          <h6 class="m-0">Doanh thu hiện tại</h6>
        </div>
        <div class="card-body pt-0">
          <div class="row border-bottom py-2 bg-light">
            <div class="col-12 col-sm-6">
              <div id="blog-overview-date-range"
                class="input-daterange input-group input-group-sm my-auto ml-auto mr-auto ml-sm-auto mr-sm-0"
                style="max-width: 350px;">
                <input type="text" class="input-sm form-control" name="start" placeholder="Start Date"
                  id="blog-overview-date-range-1">
                <input type="text" class="input-sm form-control" name="end" placeholder="End Date"
                  id="blog-overview-date-range-2">
                <span class="input-group-append">
                  <span class="input-group-text">
                    <i class="material-icons"></i>
                  </span>
                </span>
              </div>
            </div>
            <div class="col-12 col-sm-6 d-flex mb-2 mb-sm-0">
              <button type="button" class="btn btn-sm btn-white ml-auto mr-auto ml-sm-auto mr-sm-0 mt-3 mt-sm-0">View
                Báo cáo đầy đủ
                &rarr;</button>
            </div>
          </div>
          <!-- <canvas height="130" style="max-width: 100% !important;" class="blog-overview-users"></canvas> -->
          <div id="areachart_div" style="    position: relative;
    width: 770px;
    height: 700px;">
          </div>
        </div>
      </div>
    </div>
    <!-- End Users Stats -->
    <!-- Users By Device Stats -->
    <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
      <div class="row">
        <div class="card card-small h-100">
          <div class="card-header border-bottom">
            <h6 class="m-0">
              Phần trăm hàng hóa</h6>
          </div>
          <div class="card-body d-flex py-0">
            <!-- <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> -->
            <!-- <div id="piechart" style="width: 900px; height: 500px;"></div> -->
            <div id="piechart_div">
            </div>
          </div>
          <div class="card-footer border-top">
            <div class="row">
              <div class="col">
                <select class="custom-select custom-select-sm" style="max-width: 130px;" ng-model="year"
                  ng-change="getCateByYear(year)">
                  <option ng-repeat="item in years" id="year" ng-value="item">{{item}}</option>
                </select>
              </div>
              <div class="col text-right view-report">
                <a href="#"> Báo cáo đầy đủ &rarr;</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="card card-small w-100">
          <div class="card-header border-bottom">
            <h6 class="m-0">Category</h6>
          </div>
          <div class="card-body p-0">
            <ul class="list-group list-group-small list-group-flush">
              <li class="list-group-item d-flex px-3" ng-repeat="item in cates ">
                <span class="text-semibold text-fiord-blue">{{item[1]}}</span>
                <span class="ml-auto text-right text-semibold text-reagent-gray">{{item[0]|number}}</span>
              </li>
            </ul>
          </div>
          <div class="card-footer border-top">
            <div class="row">
              <div class="col">
                <select class="custom-select custom-select-sm">
                  <option selected>Last Week</option>
                  <option value="1">Today</option>
                  <option value="2">Last Month</option>
                  <option value="3">Last Year</option>
                </select>
              </div>
              <div class="col text-right view-report">
                <a href="#">Full report &rarr;</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Doanh thu các năm</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Năm</th>
              <th>Doanh thu</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in values">
              <th scope="row">{{item[1]}}</th>
              <td>{{item[0]|number}}</td>
            </tr>

          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>